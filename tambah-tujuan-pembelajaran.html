<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="assets/images/favicon.ico">
    <title>Tambah Tujuan Pembelajaran</title>
    <!-- Simple bar CSS -->
    <link rel="stylesheet" href="css/simplebar.css">
    <!-- Fonts CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Overpass:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
    <!-- Icons CSS -->
    <link rel="stylesheet" href="css/feather.css">
    <!-- Date Range Picker CSS -->
    <link rel="stylesheet" href="css/daterangepicker.css">
    <!-- App CSS -->
    <link rel="stylesheet" href="css/app-light.css" id="lightTheme">
    <link rel="stylesheet" href="css/app-dark.css" id="darkTheme" disabled>
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
      ::-webkit-scrollbar {
          width: 8px; 
      }

      ::-webkit-scrollbar-track {
          background: #f1f1f1; 
      }

      ::-webkit-scrollbar-thumb {
          background: #ccc; 
          border-radius: 8px; 
      }

      ::-webkit-scrollbar-thumb:hover {
          background: #999; 
      }
    </style>
  </head>
  <body class="vertical  light  ">
    <div class="wrapper">
        <nav class="topnav navbar navbar-light">
            <button type="button" class="navbar-toggler text-muted mt-2 p-0 mr-3 collapseSidebar">
              <i class="fe fe-menu navbar-toggler-icon"></i>
            </button>
            <ul class="nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-muted pr-0 d-flex align-items-center" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span class="avatar avatar-sm mt-2">
                        <img src="./assets/avatars/face-7.jpg" alt="..." class="avatar-img rounded-circle">
                      </span>
                      <div class="d-flex flex-column mx-3 mt-2">
                        <span class="font-weight-bold">User Name</span>
                        <small class="text-muted">Guru</small>
                      </div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                      <a class="dropdown-item" href="profile.html">Profile</a>
                      <a class="dropdown-item" href="index.html">Keluar</a>
                    </div>
                  </li>              
            </ul>
          </nav>
          <aside class="sidebar-left border-right bg-white shadow" id="leftSidebar" data-simplebar>
            <a href="#" class="btn collapseSidebar toggle-btn d-lg-none text-muted ml-2 mt-3" data-toggle="toggle">
                <i class="fe fe-x"><span class="sr-only"></span></i>
            </a>
            
            <nav class="vertnav navbar navbar-light">
                <!-- nav bar -->
                <div class="w-100 mb-4 d-flex">
                    <a class="navbar-brand mx-auto mt-2 flex-fill text-center" href="dashboard.html">
                        <img src="assets/images/logo.png" alt="Logo" class="navbar-brand-img brand-sm img-fluid w-25">
                    </a>            
                </div>                           
                <ul class="navbar-nav flex-fill w-100 mb-2 mt-2">
                    <li class="nav-item w-100">
                        <a href="dashboard.html" class="nav-link">
                            <i class="fe fe-home fe-16"></i>
                            <span class="ml-3 item-text">Dashboard</span><span class="sr-only">(current)</span>
                        </a>
                    </li>
                </ul>
                
                <p class="text-muted nav-heading mt-2 mb-1">
                    <span>Menu Guru</span>
                </p>
                <ul class="navbar-nav flex-fill w-100 mb-2">
                    <li class="nav-item w-100">
                        <a href="tujuan-pembelajaran.html" class="nav-link">
                            <i class="fe fe-16 fe-layers"></i>
                            <span class="ml-3 item-text">Tujuan Pembelajaran</span>
                        </a>             
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#tp" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle nav-link">
                            <i class="fe fe-16 fe-folder-plus"></i>
                            <span class="ml-3 item-text">Nilai Rapor</span>
                        </a>
                        <ul class="collapse list-unstyled pl-4 w-100" id="tp">
                            <li class="nav-item">
                                <a class="nav-link pl-3" href="input-nilairev.html"><span class="ml-1 item-text">Input Nilai Rapor</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link pl-3" href="import-nilai.html"><span class="ml-1 item-text">Import Nilai Rapor</span></a>
                            </li>               
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#tables" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle nav-link">
                            <i class="fe fe-16 fe-inbox"></i>
                            <span class="ml-3 item-text">Cek Penilaian</span>
                        </a>
                        <ul class="collapse list-unstyled pl-4 w-100" id="tables">
                            <li class="nav-item">
                                <a class="nav-link pl-3" href="status-penilaian.html"><span class="ml-1 item-text">Status Penilaian</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link pl-3" href="pencapaian-nilai-rapor.html"><span class="ml-1 item-text">Pencapaian Nilai Rapor</span></a>
                            </li>               
                        </ul>
                    </li>
                </ul>
                
                <p class="text-muted nav-heading mt-4 mb-1">
                    <span>Pengaturan</span>
                </p>
                <ul class="navbar-nav flex-fill w-100 mb-2">
                    <li class="nav-item w-100">
                        <a class="nav-link" href="index.html">
                            <i class="fe fe-log-out fe-16"></i>
                            <span class="ml-3 item-text">Keluar</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
      
    <main role="main" class="main-content">
      <div class="container-fluid">
          <div class="row justify-content-center">
              <div class="col-12">
                  <h2 class="page-title">Tambah Tujuan Pembelajaran</h2>
                  <div class="card shadow mb-4">
                      <div class="card-body">
                          
                              <form>
                                  <div class="form-group">
                                      <label for="fase">Pilih Fase</label>
                                      <select class="form-control dropdown" id="fase" name="fase">
                                          <option disabled selected>Pilih Fase</option>
                                          <option value="faseA">Fase A</option>
                                          <option value="faseB">Fase B</option>
                                          <option value="faseC">Fase C</option>
                                          <option value="faseD">Fase D</option>
                                          <option value="faseE">Fase E</option>
                                          <option value="faseF">Fase F</option>
                                      </select>
                                  </div>
                                  <div class="form-group">
                                      <label for="kelas">Pilih Kelas</label>
                                      <select class="form-control dropdown" id="kelas" name="kelas">
                                            <option disabled selected>Pilih Kelas</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                      </select>
                                  </div>
                                  <div class="form-group">
                                      <label for="semester">Pilih Semester</label>
                                      <select class="form-control dropdown" id="semester" name="semester">
                                          <option disabled selected>Pilih Semester</option>
                                          <option value="1">1</option>
                                          <option value="2">2</option>
                                      </select>
                                  </div>
                                  <div class="form-group">
                                      <label for="mapel">Pilih Mapel</label>
                                      <select class="form-control dropdown" id="mapel" name="mapel">
                                          <option disabled selected>Pilih Mapel</option>
                                          <option value="Indonesia">Bahasa Indonesia</option>
                                          <option value="Inggris">Bahasa Inggris</option>
                                          <option value="Matematika">Matematika</option>
                                      </select>
                                  </div>
                              </form>
                          
                              <div id="tableSection" class="table-responsive mt-4" style="display: none;">
                                  <table class="table table-bordered custom-table">
                                      <thead>
                                          <tr>
                                              <th colspan="2" class="text-black-50 text-center">Tujuan Pembelajaran</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>TP 1</td>
                                              <td><input type="text" class="form-control" name="TP1" value="Mengembangkan Kemampuan Berbahasa" autocomplete="off"></td>
                                          </tr>
                                          <tr>
                                              <td>TP 2</td>
                                              <td><input type="text" class="form-control" name="TP2" value="Meningkatkan Keterampilan Berpikir Kritis" autocomplete="off"></td>
                                          </tr>
                                          <tr>
                                              <td>TP 3</td>
                                              <td><input type="text" class="form-control" name="TP3" value="Meningkatkan Apresiasi terhadap Sastra" autocomplete="off"></td>
                                          </tr>
                                          <tr>
                                              <td>TP 4</td>
                                              <td><input type="text" class="form-control" name="TP4" value="Mengembangkan Keterampilan Berkomunikasi" autocomplete="off"></td>
                                          </tr>
                                          <tr>
                                              <td>TP 5</td>
                                              <td><input type="text" class="form-control" name="TP5" value="Memahami Struktur dan Kaidah Bahasa" autocomplete="off"></td>
                                          </tr>
                                          <tr>
                                              <td>TP 6</td>
                                              <td><input type="text" class="form-control" name="TP6" value="Menumbuhkan Sikap Positif terhadap Bahasa dan Budaya" autocomplete="off"></td>
                                          </tr>
                                      </tbody>
                                  </table>
                                  <div id="errorSection" class="text-danger" style="display: none;">
                                      <p>Semua tujuan pembelajaran harus diisi.</p>
                                  </div>
                                  <div class="d-flex justify-content-end align-items-center mt-3">
                                      <button id="addTPButton" type="button" class="btn btn-dark mx-4">
                                          <span>Tambah TP</span>
                                      </button>
                                      <button id="kirimButton" type="button" class="btn btn-primary" style="display: none;">
                                          <span>Simpan</span>
                                      </button>
                                  </div>
                              </div>
                          
                      </div>
                  </div>
              </div>
          </div> <!-- .row -->
      </div> <!-- .container-fluid -->
    </main> <!-- main -->

    </div> <!-- .wrapper -->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/simplebar.min.js"></script>
    <script src='js/daterangepicker.js'></script>
    <script src='js/jquery.stickOnScroll.js'></script>
    <script src="js/tinycolor-min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/apps.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56159088-1"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        function saveToLocalStorage(data) {
            let tujuanPembelajaran = JSON.parse(localStorage.getItem('tujuanPembelajaran')) || [];
            tujuanPembelajaran.push(data);
            localStorage.setItem('tujuanPembelajaran', JSON.stringify(tujuanPembelajaran));
        }

        document.addEventListener('DOMContentLoaded', function() {
            const dropdowns = document.querySelectorAll('.dropdown');
            const tableSection = document.getElementById('tableSection');
            const kirimButton = document.getElementById('kirimButton');
            const inputFields = document.querySelectorAll('input[type="text"]');
            const errorSection = document.getElementById('errorSection');
            
            dropdowns.forEach(dropdown => {
                dropdown.addEventListener('change', checkDropdowns);
            });
            
            kirimButton.addEventListener('click', validateInputs);
            
            function checkDropdowns() {
                let allFilled = true;
                dropdowns.forEach(dropdown => {
                    if (dropdown.value === '' || dropdown.value === 'Pilih Fase' || dropdown.value === 'Pilih Tingkat' || dropdown.value === 'Pilih Mapel' || dropdown.value === 'Pilih Semester') {
                        allFilled = false;
                    }
                });
                if (allFilled) {
                    tableSection.style.display = 'block';
                    kirimButton.style.display = 'block';
                } else {
                    tableSection.style.display = 'none';
                    kirimButton.style.display = 'none';
                }
            }
            
            function validateInputs() {
                let allValid = true;
                let data = {};
                inputFields.forEach(input => {
                    if (input.value.trim() === '') {
                        allValid = false;
                        input.classList.add('is-invalid');
                    } else {
                        input.classList.remove('is-invalid');
                        data[input.name] = input.value;
                    }
                });
                
                if (allValid) {
                    errorSection.style.display = 'none';
                    saveToLocalStorage(data);
                    Swal.fire({
                        title: 'Sukses!',
                        text: 'Tujuan Pembelajaran berhasil ditambahkan!',
                        icon: 'success',
                        confirmButtonText: 'OK',
                        customClass: {
                            confirmButton: 'btn btn-primary' 
                        }
                    }).then(() => {
                        window.location.href = 'tujuan-pembelajaran.html';
                    });
                } else {
                    errorSection.style.display = 'block';
                }
            }
            
            function saveToLocalStorage(data) {
                let tujuanPembelajaran = JSON.parse(localStorage.getItem('tujuanPembelajaran')) || [];
                tujuanPembelajaran.push(data);
                localStorage.setItem('tujuanPembelajaran', JSON.stringify(tujuanPembelajaran));
            }
        });
    </script>
      <script>
        document.getElementById('addTPButton').addEventListener('click', function() {
            // Ambil elemen tbody dari tabel
            var tbody = document.querySelector('.custom-table tbody');

            // Dapatkan jumlah baris yang ada
            var rowCount = tbody.rows.length;

            // Buat ID dan nama untuk baris baru
            var newIndex = rowCount + 1;
            var newTP = 'TP ' + newIndex;

            // Buat elemen baris baru
            var newRow = document.createElement('tr');
            newRow.innerHTML = '<td>' + newTP + '</td>' +
                                '<td><input type="text" class="form-control" name="' + newTP + '" value="" autocomplete="off"></td>';

            // Tambahkan baris baru ke tbody
            tbody.appendChild(newRow);
        });
    </script>
  </body>
</html>
